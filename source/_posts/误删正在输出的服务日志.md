---
title: 误删正在输出的tomcat服务日志
date: 2019-04-17 10:58:56
tags: [linux]
---

## 误删场景
今天find写日志切割tomcat日志，需要匹配后缀为log,out,txt，之后忘记写括号,将log和out删除了。

```shell
/usr/bin/find /opt/*/logs/* ( -name "*.out"  -o -name "*.log" -o -name "*.txt" ) -mtime +30 | xargs -I {} rm -f {}
```

tomcat不像nginx那样可以reload，其需要整个暂停，然后启动才能重新生成日志文件，但如果重启tomcat，则war包加载需要的时间比较长，且这段时间无法提供服务。

<!-- more -->

## 临时查看的方法

虽然日志文件被删除，但在tomcat没有关闭之前文件描述符还是存在的，只是软连对象被删除而已。

